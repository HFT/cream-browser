export LIBNAME    = @LIBNAME@
export LIBVERSION = @LIBVERSION@
export LICENSE    = @LICENSE@

export TOPDIR      = @TOPDIR@
export PREFIX      = @PREFIX@
export EXEC_PREFIX = @EXEC_PREFIX@
export SYSCONFDIR  = @SYSCONFDIR@
export BINDIR      = @BINDIR@
export LIBDIR      = @LIBDIR@
export DATADIR     = @DATADIR@
export LOCALEDIR   = @LOCALEDIR@
export MANDIR      = @MANDIR@
export INFODIR     = @INFODIR@

export BUILD = @BUILD@
export HOST  = @HOST@
export CROSS_COMPILING = @CROSS_COMPILING@

export CFLAGS  += @CFLAGS@ -I $(TOPDIR)/../.. -Wall -c
export LDFLAGS += @LDFLAGS@
export CC       = @CC@

export HAVE_DEBUG = @HAVE_DEBUG@

SUBDIRS = @SUBDIRS@

SOURCES = api.c scheme.c
HEADERS = ../api.h ../scheme.h

.PHONY: all clean install uninstall maintainer-clean

all: module-all
clean: module-clean
install: module-install
uninstall: module-uninstall

maintainer-clean: module-maintainer-clean
	@rm -vrf common.mk
	@rm -vrf common.mk.sed

api.o: ../api.c
	$(CC) $(CFLAGS) $^ -o $@

scheme.o: ../scheme.c
	$(CC) $(CFLAGS) $^ -o $@

.PHONY: module-all module-clean module-install module-uninstall module-maintainer-clean
